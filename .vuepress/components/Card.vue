<template>
  <div class="card">
    <div class="card-title">
      <h2>
        <router-link :to="post.path">{{ post.frontmatter.title }}</router-link>
      </h2>
    </div>
    <div class="card-img">
      <!-- img -->
      <router-link :to="post.path">
        <img :src="$withBase('/' + post.frontmatter.type + '.svg')" :alt="post.frontmatter.type">
      </router-link>
    </div>
    <div class="card-resume">
      <span>{{ date(post) }}</span>
      <!-- description -->
      <p>{{ post.frontmatter.description }}</p>
      <!-- read more -->
      <p>
        <router-link :to="post.path">{{ readMoreText }}</router-link>
      </p>
    </div>
    <div class="card-footer">
      <!-- links -->
    </div>
  </div>
</template>
<script>
export default {
  props: {
    post: {}
  },
  computed: {
    readMoreText() {
      if (this.$localePath.indexOf("en") > -1) {
        return "Read more";
      }
      return "Leer m√°s";
    }
  },
  methods: {
    date: function(post) {
      let date = new Date(post.frontmatter.date).toLocaleDateString(
        this.$lang,
        { month: "long", year: "numeric", day: "numeric" }
      );
      return date;
    }
  }
};
</script>
<style scoped>
.card {
  display: grid;
  grid-template-columns: 200px 1fr;
  grid-template-areas: "header header" "logo resume" "footer footer";
  /* box-shadow: 0 4px 8px 1px rgba(0, 0, 0, 0.2); */
  transition: 0.3s;
  margin-bottom: 15px;
}
.card:hover {
  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
}
.card-title {
  grid-area: header;
}
.card-img {
  grid-area: logo;
}
.card-resume {
  grid-area: resume;
}
.card-footer {
  grid-area: footer;
}
</style>
